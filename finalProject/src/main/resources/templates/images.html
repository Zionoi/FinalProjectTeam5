<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	 <!--<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">-->
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- Cornerstone 및 Cornerstone Tools 라이브러리 로드 -->
	<script src="https://unpkg.com/cornerstone-core"></script>
	<script src="https://unpkg.com/cornerstone-wado-image-loader"></script>
	<script src="https://unpkg.com/cornerstone-tools"></script>
	<script src="https://unpkg.com/dicom-parser"></script>
	<script src="https://unpkg.com/cornerstone-math"></script>
	<script src="https://unpkg.com/hammerjs"></script>

    
    <script src="https://cdn.jsdelivr.net/npm/cornerstone-tools@3.0.0-b.641/dist/cornerstoneTools.js"></script>
    <title>DICOM IMAGE VIEWER</title>
    <link rel="stylesheet" th:href="@{/css/image.css}">


    <!-- Thymeleaf로 서버에서 전달된 imagePaths를 JavaScript로 넘겨줌 -->
    <script th:inline="javascript">
        var imagePaths = /*[[${imagePaths}]]*/ [];
        console.log('이미지 경로 리스트:', imagePaths);
        var studyKey = /*[[${studyKey}]]*/ []; // 추가된 부분
    	console.log('Study Key:', studyKey);
        var seriesKeys = /*[[${seriesKeys}]]*/ [];
    	console.log('Series Keys:', seriesKeys);
    </script>
   

</head>
<body>
    <div class="container">
        <h2>DICOM IMAGE VIEWER</h2>
        
        <div class="wadoBox">
			<!-- 메인 활성화 div -->
            <!--<div class="parentDiv active-red" data-value="0">
                <canvas class="cornerstone-canvas" width="670" height="745"></canvas>
            </div>-->

			<!-- 버튼 레이아웃을 프레그먼트에서 불러오기 -->
	        <div th:replace="imageView :: buttonLayout"></div>
	        
	        <!-- DICOM 이미지 뷰어 영역 -->
	        <div id="dicomImage" class="grid-container" oncontextmenu="return false" onmousedown="return false">
				<!-- 미리 생성된 이미지 컨테이너들 -->
	            <!--<div class="imageLayoutParentDiv" data-value="0"></div>
	            <div class="imageLayoutParentDiv" data-value="1"></div>
	            <div class="imageLayoutParentDiv" data-value="2"></div>
	            <div class="imageLayoutParentDiv" data-value="3"></div>
	            <div class="imageLayoutParentDiv" data-value="4"></div>
	            <div class="imageLayoutParentDiv" data-value="5"></div>
	            <div class="imageLayoutParentDiv" data-value="6"></div>
	            <div class="imageLayoutParentDiv" data-value="7"></div>
	            <div class="imageLayoutParentDiv" data-value="8"></div>
				<div class="imageLayoutParentDiv" data-value="9"></div>
				<div class="imageLayoutParentDiv" data-value="10"></div>
	            <div class="imageLayoutParentDiv" data-value="11"></div>
	            <div class="imageLayoutParentDiv" data-value="12"></div>
	            <div class="imageLayoutParentDiv" data-value="13"></div>
	            <div class="imageLayoutParentDiv" data-value="14"></div>
	            <div class="imageLayoutParentDiv" data-value="15"></div>
	            <div class="imageLayoutParentDiv" data-value="16"></div>
	            <div class="imageLayoutParentDiv" data-value="17"></div>
	            <div class="imageLayoutParentDiv" data-value="18"></div>
	            <div class="imageLayoutParentDiv" data-value="19"></div>
	            <div class="imageLayoutParentDiv" data-value="20"></div>
	            <div class="imageLayoutParentDiv" data-value="21"></div>
	            <div class="imageLayoutParentDiv" data-value="22"></div>
	            <div class="imageLayoutParentDiv" data-value="23"></div>
	            <div class="imageLayoutParentDiv" data-value="24"></div>
	            <div class="imageLayoutParentDiv" data-value="25"></div>-->
			</div>
		</div>

        
    </div>

    <!-- JavaScript 파일 포함 -->
    <script src="/js/imgTool/invert.js"></script>   
    <script src="/js/imgTool/brightness.js"></script>   
    <script src="/js/imgTool/playClip.js"></script> 
    <script src="/js/imgTool/viewSeries.js"></script> 
    <script src="/js/imgTool/tool.js"></script>
    <script src="/js/imgTool/reset.js"></script>
	<script src="/js/imgTool/seriesLayout.js"></script>
	<script src="/js/imgTool/imgLayout.js"></script>
	<script src="/js/imageView.js"></script>
	<script src="/js/testjs.js"></script>
	

</body>
</html>
