<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <script th:src="@{/js/seriesList.js}"></script>
    <script th:src="@{/js/serSectionImage.js}"></script>

    <meta charset="UTF-8">
    <title>Series 목록</title>
</head>
<body>
    <div class="series-container" th:fragment="seriesSection">
        <div class="dicomImage" id="dicomImage" style="width:240px;height:240px; background-color:black;"
             oncontextmenu="return false"
             onmousedown="return false">
        </div>
        <div class="series-list">
            <h1>Series 목록 &#40<span th:text="${#lists.size(series)}"></span>&#41;</h1>
            <table class="series-table-header">
                <tr>
                    <th>No.</th>
                    <th>검사이름</th>
                    <th>검사장비</th>
                    <th>이미지</th>
                </tr>
            </table>
            <div class="series-table">
                <table class="series-table-body">
                    <tr th:each="series, iterStat : ${series}" style="cursor: pointer;" onclick="window.location=this.querySelector('a').href">
                        <!-- 시리즈 넘버를 카운트로 표시 (1부터 시작) -->
                        <td th:text="${iterStat.index + 1}"></td>
                        <td th:text="${series.seriesDesc}"></td>
                        <td th:text="${series.modality}"></td>
                        <td>
                            <a th:text="${series.imageCnt}"
                             th:href="@{'/images' + '/studies/' + ${series.studyKey} + '/series/' + ${series.seriesKey}}" style="text-align:center; color:#D8D8D8; text-decoration: none;">
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <div id="serSectionImageContainer"></div>
        </div>
    </div>
    <a th:href="@{'/studyList'}">뒤로 가기</a>
</body>
</html>
